<app-navbar></app-navbar>

<div class="container">

<div id="formRH" class="card">
  <h4 class="card-header headerForm">Formulario Analista:</h4>
  <div class="card-body">
    <!-- *******************************************CABEÇALHO******************************************* -->
    <form>
      <div class="card">
        <div class="card-body">
          <form>

            <div class="form-group">
              <label for="inputAddress2" class="col-form-label"><b>Descrição Formulário:</b> </label>
              <input id="formDescricao" type="text" class="form-control" placeholder="Entre com o nome do funcionário">
            </div>
            <div class="form-row">

              <div class="form-group col-md-4">
                <label for="inputEmail4" class="col-form-label"><b>Data de envio:</b></label>
                <input id="dataInicio" type="date" class="form-control" placeholder="Entre com o cargo do funcionário">
              </div>
              <div class="col-md-4"></div>
              <div class="form-group col-md-4">
                <label for="inputPassword4" class="col-form-label"><b>Data limite de resposta:</b></label>
                <input id="dataFinal" type="date" class="form-control" placeholder="Processo">
              </div>
            </div>
            <div class="form-row"> 
            </div>
          </form>
        </div>
      </div>
        <!-- *******************************************CABEÇALHO******************************************* -->


        <div *ngFor="let question of formulario.getQuestions()">          
            <div class="card">
              <h6 class="card-header header-Question">
                <div class="row">

                  <div class="col-10 question-text">
                    <p align="justify">{{question.questionNumber}} - {{question.pergunta}}</p>
                  </div>
                  <div class="col-1 delete-question-button">
                    <button id="" type="button" class="close" aria-label="Close" (click)="removeQuestao(question.questionNumber)">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                </div>
              </h6>

              
              <div class="card-body">

                <div class="row">
                  <div class="card col-sm-9">
                    <div class="form-group">
                        <label for="inputAddress2" class="col-form-label"><b>Observações analista</b></label>
                        <textarea class="form-control" id="exampleTextarea" rows="3"></textarea>
                        <label for="inputAddress2" class="col-form-label"><b>Observações gerente</b></label>
                        <textarea class="form-control" id="exampleTextarea" rows="3"></textarea>
                      </div>
                  </div>
                  <div class="card col-sm-3 metric-value-card">
                    <div class="row" id="rangeBox">
                      <div class="col">
                        <label for="inputAddress2" class="col-form-label"><b>Analista</b></label>
                        <input type="number"  min="1" max="5" class="form-control" placeholder="0">  
                      </div>
                      <div class="col">
                        <label for="inputAddress2" class="col-form-label"><b>Gerente</b></label>
                        <input type="number"  min="1" max="5" class="form-control" placeholder="0">  
                      </div>                                                                                    
                    </div>

                  </div>
                </div>
              </div>
            </div>
        </div>
        
        
    
        <div id="newQuestionDiv" class="collapse" id="collapseExample">
          <div id="newQuestionDiv" class="card card-body">
            <div class="well well-lg">
              <div id="newQuestionTextArea" class="form-group">
                <label for="exampleTextarea"><b>Adicione uma nova pergunta: </b></label>
                <textarea id="newQuestionTexArea" class="form-control" id="exampleTextarea" rows="3" [(ngModel)]="newQuestion" [ngModelOptions]="{standalone: true}"></textarea>
              </div>


              <div class="confirmCancelButton">
                <button type="submit" class="btn btn-primary" (click)='confirmAddQuestion()'>Confirmar</button>
                <button type="submit" class="btn btn-danger" (click)='cancelQuestion()'>Cancelar</button>
              </div>
              
            </div>
          </div>
        </div>
      </form>

      
      <div *ngIf="isCollapsed">
        <div class="row">
           <a class="btn" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false"
              aria-controls="collapseExample" (click)="shwoCollapsed()">
              <a class="btn btn-default" aria-label="Settings" data-toggle="tooltip" data-placement="top" data-toggle="tooltip" data-placement="top" title="Adicionar questão">
                  <i class="fa fa-plus-circle fa-4x" aria-hidden="true"></i>  
              </a>                          
          </a> 
          <div *ngIf="formulario.getQuestions().length > 0">
          <a class="btn" >
              <a id="enviarRelatorioBotao" class="btn btn-default" aria-label="Settings" data-toggle="tooltip" 
              data-placement="top" title="Enviar formulário para funcionários" (click)="enviarFormularios()">
                  <i class="fa fa-share-square fa-4x" aria-hidden="true"></i>  
              </a>                          
          </a> 
          </div>
        </div>

        
      </div>    
  </div>
</div>

<button (click)="deleteFormulariosNovos()">Recupera cabecalho</button>

</div>


<div id="myModal" class="modal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Erro de preenchimento</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>{{erroForm}}</p>
      </div>
      <div class="modal-footer">        
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Ok</button>
      </div>
    </div>
  </div>
</div>